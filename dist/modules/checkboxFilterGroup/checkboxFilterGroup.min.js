"use strict";var moduleName="c2fo.ui.modules.checkboxFilterGroup";angular.module(moduleName,[]).directive("c2foCheckboxFilterGroup",[function(){return{restrict:"E",scope:{label:"@",fields:"=",filter:"=",filterKey:"@",multicheck:"=",onUpdate:"&"},template:['<div class="c2fo-ui-checkbox-filter-group">','   <div class="heading">{{checkBoxFilterGroupCtrl.label}}</div>','   <div class="checkbox" ng-repeat="field in checkBoxFilterGroupCtrl.fields">',"       <label>",'           <input type="checkbox" ng-model="field.isChecked" ng-click="checkBoxFilterGroupCtrl.updateFilter($event)"/>',"           {{field.label}}","       </label>","   </div>","</div>"].join("").replace(/\s\s+/g,""),controller:"CheckboxFilterGroupController",controllerAs:"checkBoxFilterGroupCtrl",bindToController:!0}}]).controller("CheckboxFilterGroupController",["$timeout",function(a){function b(b){if(c.multicheck){var d=[];c.fields.forEach(function(a){a.isChecked===!0&&d.push(a.value)}),c.filter[c.filterKey]=d}else{var e=angular.element(b.target).scope().field,f=angular.copy(e.isChecked);c.fields.map(function(a){return a.isChecked=!1,a}),e.isChecked=f,c.filter[c.filterKey]=e.isChecked===!0?[e.value]:[]}a(function(){c.onUpdate()&&c.onUpdate()(c.filter)})}var c=this;c.updateFilter=b}]),module.exports=moduleName,describe("Checkbox Filter Group Controller",function(){beforeEach(module("c2fo.ui"));var a,b;beforeEach(inject(function(c){var d=c;b={},a=d("CheckboxFilterGroupController",{$scope:b}),a.filter={myKey:null},a.fields=[{label:"Yes",value:"yes-value"},{label:"No",value:"no-value"}],a.filterKey="myKey",a.onUpdate=function(){return function(){return!0}}})),describe("updateFilter()",function(){it("should support optional onUpdate() parameter",function(){a.multicheck=!0,a.onUpdate=null,a.updateFilter(),expect(a.onUpdate).toEqual(null)}),it("should support multicheck parameter",function(){a.multicheck=!0,a.fields.map(function(a){return a.isChecked=!0,a}),a.updateFilter(),expect(a.filter).toEqual({myKey:["yes-value","no-value"]})})})});
//# sourceMappingURL=checkboxFilterGroup.min.js.map